<?xml version="1.0" encoding="UTF-8" ?>
<!-- *********************************************************************-->
<!-- Copyright 2026                                                       -->
<!-- Alex Jordan                                                          -->
<!-- *********************************************************************-->
<section xml:id="section-the-quadratic-formula">
  <title>The Quadratic Formula</title>

  <introduction>
    <p>
      In <xref ref="section-solving-quadratic-equations-by-using-a-square-root"/>, we solved certain
      quadratic equations using the square root property. This worked when the equations were in the
      right format where it was possible to use a square root radical. Now we learn another method
      to solve quadratic equations in general: the quadratic formula.
    </p>

    <figure>
      <caption>Alternative Video Lesson</caption>
      <video youtubeplaylist="PLmuZCPhWPt-dvXvemkv2B4YtnK-s2WCh9"/>
    </figure>
  </introduction>

  <subsection>
    <title>Solving Quadratic Equations with the Quadratic Formula</title>
    <p>
      The standard form for a quadratic equation is
      <me>
        ax^2+bx+c=0
      </me>
      where <m>a</m> is some nonzero number.
    </p>

    <p>
      When <m>b=0</m> and the equation's form is <m>ax^2+c=0</m>, then we can simply use the square
      root property to solve it as we did with equations like this in
      <xref ref="section-solving-quadratic-equations-by-using-a-square-root"/>.
      But can we solve equations where <m>b\neq0</m>? A general method for doing this is to use the
      <term>quadratic formula</term>.
    </p>

    <fact xml:id="fact-the-quadratic-formula">
      <title>The Quadratic Formula</title>                                                                    <idx><h>solving</h><h>quadratic equations</h><h>quadratic formula</h></idx>
      <p>
        For any quadratic equation <m>ax^2+bx+c=0</m> with <m>a\neq0</m>, the solutions are given by
        <me>
          x=\frac{-b\pm\sqrt{b^2-4ac}}{2a}
        </me>
      </p>
    </fact>

    <p>
      As we have seen from solving quadratic equations in
      <xref ref="section-solving-quadratic-equations-by-using-a-square-root"/>, there can be two
      solutions to a quadratic equation. Both solutions are represented in the quadratic formula
      because of the <m>\pm</m> symbol. We could write the two solutions separately:
      <md>
        <mrow>x=\frac{-b-\sqrt{b^2-4ac}}{2a}\amp\amp\text{ or }\amp\amp x=\frac{-b+\sqrt{b^2-4ac}}{2a}</mrow>
      </md>
    </p>

    <p>
      This method for solving quadratic equations will work to solve <em>every</em> quadratic
      equation. It is most helpful when <m>b\ne0</m>.
    </p>

    <example xml:id="example-quadratic-equation-flying-object">
      <statement>
        <p>
          Linh is in a physics class that launches a tennis ball from a rooftop that is <m>90.2</m>
          feet above the ground. They fire it directly upward at a speed of <m>14.4</m> feet per
          second and measure the time it takes for the ball to hit the ground below. We can model
          the height of the tennis ball, <m>h</m>, in feet, with the quadratic equation
          <m>h=-16t^2+14.4t+90.2</m>, where <m>x</m> represents the time in seconds after the
          launch. According to the model, when should the ball hit the ground?
        </p>

        <p>
          The ground has height <m>0</m> feet, so we should substitute <m>0</m> in for <m>h</m>.
          This gives us the quadratic equation:
          <me>
            0=-16t^2+14.4t+90.2
          </me>
          We cannot solve this equation with the square root property, so we will use the quadratic
          formula. First we will identify <m>\highlight{a=-16}</m>, <m>\highlight{b=14.4}</m>, and
          <m>\highlight{c=90.2}</m>, and substitute these into the quadratic formula:
          <md>
            <mrow>t\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
            <mrow>t\amp=\frac{-(\substitute{14.4})\pm\sqrt{(\substitute{14.4})^2-4(\substitute{-16})(\substitute{90.2})}}{2(\substitute{-16})}</mrow>
            <mrow>t\amp=\frac{-14.4\pm\sqrt{5980.16}}{-32}</mrow>
          </md>
          These are the exact solutions, but because we have a physical context we want to
          approximate the solutions with decimals.
          <me>t\approx-1.966\qquad\text{or}\qquad t\approx2.866</me>
          We don't use the negative solution because a negative time does not make sense in this
          context. The ball will hit the ground approximately <m>2.866</m> seconds after it is
          launched.
        </p>
      </statement>
    </example>

    <p>
      The quadratic formula can be used to solve any quadratic equation, but it requires that you
      remembering the formula correctly and that you correctly identify <m>a</m>, <m>b</m>, and
      <m>c</m>. Also, that you don't make any arithmetic mistakes when you simplify. We recommend
      that you always check if you could use the square root property before using the quadratic
      formula.
    </p>

    <example>
      <statement>
        <p>
          Solve for <m>x</m> in <m>2x^2-9x+5=0</m>.
        </p>
      </statement>
      <solution>
        <p>
          First, we check and see that we cannot use the square root property (because
          <m>b\neq0</m>) so we will use the quadratic formula. We identify <m>a=2</m>, <m>b=-9</m>,
          and <m>c=5</m>. Substituting these into the quadratic formula:
          <md>
            <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
            <mrow>x\amp=\frac{-(\substitute{-9})\pm\sqrt{(\substitute{-9})^2-4(\substitute{2})(\substitute{5})}}{2(\substitute{2})}</mrow>
            <mrow>x\amp=\frac{9\pm\sqrt{81-40}}{4}</mrow>
            <mrow>x\amp=\frac{9\pm\sqrt{41}}{4}</mrow>
          </md>
          This is fully simplified because we cannot simplify <m>\sqrt{41}</m> or reduce the
          fraction. The solution set is
          <m>\left\{\frac{9-\sqrt{41}}{4},\frac{9+\sqrt{41}}{4}\right\}</m>. In this exercise, there
          is no reason to approximate these with decimals.
        </p>
      </solution>
    </example>

    <p>
      When a quadratic equation does not start out in standard form we must convert it to standard
      form before we can clearly identify the values of <m>a</m>, <m>b</m>, and <m>c</m>.
    </p>

    <example xml:id="example-solve-quadratic-equation-using-quadratic-formula">
      <statement>
        <p>
          Solve for <m>x</m> in <m>x^2=-10x-3</m>.
        </p>
      </statement>
      <solution>
        <p>
          First, we convert the equation into standard form by adding <m>10x</m> and <m>3</m> to
          each side of the equation:
          <me>
            x^2+10x+3=0
          </me>
          Next, we check that we cannot use the square root property so we will use the quadratic
          formula. We identify <m>a=1</m>, <m>b=10</m> and <m>c=3</m>. Substituting them into the
          quadratic formula:
          <md>
            <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
            <mrow>x\amp=\frac{-\substitute{10}\pm\sqrt{(\substitute{10})^2-4(\substitute{1})(\substitute{3})}}{2(\substitute{1})}</mrow>
            <mrow>x\amp=\frac{-10\pm\sqrt{100-12}}{2}</mrow>
            <mrow>x\amp=\frac{-10\pm\sqrt{88}}{2}</mrow>
          </md>
          We notice that the radical can be simplified:
          <md>
            <mrow>x\amp=\frac{-10\pm2\sqrt{22}}{2}</mrow>
            <mrow>x\amp=\frac{-10}{2}\pm\frac{2\sqrt{22}}{2}</mrow>
            <mrow>x\amp=-5\pm\sqrt{22}</mrow>
          </md>
          The solution set is <m>\{-5-\sqrt{22}, -5+\sqrt{22}\}</m>.
        </p>
      </solution>
    </example>

    <remark>
      <p>
        The irrational solutions to quadratic equations can be checked, but doing this sometimes
        takes a lot of simplification and is not shown throughout this section. As an example of how
        much effort goes into a direct check, we will check the solution of <m>-5+\sqrt{22}</m> from
        <xref ref="example-solve-quadratic-equation-using-quadratic-formula"/>. We need to replace
        <m>x</m> with <m>-5+\sqrt{22}</m> and check that the two sides of the equation are equal.
        This check is shown here:
        <md>
          <mrow>x^2\amp=-10x-3</mrow>
          <mrow>(\substitute{-5+\sqrt{22}})^2\amp\wonder{=}-10(\substitute{-5+\sqrt{22}})-3</mrow>
          <mrow>(-5)^2+2(-5)(\sqrt{22})+(\sqrt{22})^2\amp\wonder{=}-10(-5+\sqrt{22})-3</mrow>
          <mrow>25-10\sqrt{22}+22 \amp\wonder{=}50-10\sqrt{22}-3</mrow>
          <mrow>47-10\sqrt{22}\amp\confirm{=}47-10\sqrt{22}</mrow>
        </md>
        It worked, and it took a lot of effort. As an alternative, we could use a calculator to find
        <m>-5+\sqrt{22}\approx-0.3096</m> and see if this decimal approximation appears to be close
        to working.
        <md>
          <mrow>x^2\amp=-10x-3</mrow>
          <mrow>(\substitute{-0.3096})^2\amp\wonder{=}-10(\substitute{-0.3096})-3</mrow>
          <mrow>0.09585216\amp\wonder{=}0.096</mrow>
        </md>
        These are close. So with the help of a calculator, checking like this can give reasonable
        confidence that the solution we found is valid.
      </p>
    </remark>

    <p>
      The radicand from the quadratic formula, <m>b^2-4ac</m>, is called the
      <term>discriminant</term>. When it is a negative number, the quadratic equation has no real             <idx><h>discriminant</h></idx>
      solution.
    </p>

    <example xml:id="example-quadratic-equation-no-solution">
      <statement>
        <p>
          Solve for <m>y</m> in <m>y^2-4y+8=0</m>.
        </p>
      </statement>
      <solution>
        <p>
          Identify <m>a=1</m>, <m>b=-4</m> and <m>c=8</m>. Substitute them into the quadratic
          formula:
          <md>
            <mrow>y\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
            <mrow>\amp=\frac{-(\substitute{-4})\pm\sqrt{(\substitute{-4})^2-4(\substitute{1})(\substitute{8})}}{2(\substitute{1})}</mrow>
            <mrow>\amp=\frac{4\pm\sqrt{16-32}}{2}</mrow>
            <mrow>\amp=\frac{4\pm\sqrt{-16}}{2}</mrow>
          </md>
          The discriminant worked out to be <m>-16</m>, which is negative. The square root of a
          negative number is not a real number, so we will conclude that this equation has no real
          solutions.
        </p>
      </solution>
    </example>
  </subsection>

  <subsection>
    <title>Applications</title>
    <p>
      Certain <q>word problems</q> lead to a quadratic equation where the quadratic formula may be
      useful.
    </p>
    <example>
      <statement>
        <p>
          A rectangle is <m>5</m> inches longer than it is wide. The total area of the rectangle is
          60 square inches. How wide is the rectangle? (This is asking for the shorter dimension.)
        </p>
      </statement>
      <solution>
        <p>
          The area of a rectangle is given by multipying its two dimensions. If we let <m>w</m>
          stand for the width of the rectangle (the shorter dimension), then <m>w+5</m> is the
          length, and the total area is <m>w(w+5)</m>. A diagram can help make more clear what needs
          to be done.
        </p>
        <image width="40%">
          <latex-image>
            \begin{tikzpicture}
              \draw (0,0) -| node[pos=0.25, below] {\(w+5\)} node[pos=0.75, right] {\(w\)} (5,3) -| cycle;
              \node at (2.5,1.5) {\(60\)};
            \end{tikzpicture}
          </latex-image>
        </image>
        <p>
          So we must solve the equation <m>w(w+5)=60</m>. After multiplying and moving to standard
          form, we have <m>w^2+5w-60=0</m>. Using the quadratic formula:
          <md>
            <mrow>w\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
            <mrow>\amp=\frac{-5\pm\sqrt{5^2-4(1)(-60)}}{2(1)}</mrow>
            <mrow>\amp=\frac{-5\pm\sqrt{265}}{2}</mrow>
            <mrow>w\amp\approx-10.64\quad\text{or}\quad w\approx5.64</mrow>
          </md>
          Only the solution <m>w\approx5.64</m> makes sense as the width of a rectangle. So the
          rectangle is about <m>5.64</m> inches wide.
        </p>
      </solution>
    </example>

    <exercise>
      <webwork>
        <pg-code>
          Context("FiniteSolutionSets");
          $answer = Formula("{(35-sqrt(1345))/2, (35+sqrt(1345))/2}");
        </pg-code>
        <statement>
          <p>
            Two numbers have sum <m>35</m>, and their product is <m>-30</m>. Find these two numbers.
          </p>
          <p>
            <var name="$answer" width="16"/>
          </p>
        </statement>
        <solution>
          <p>
            Let <m>x</m> be one of these numbers. Since the two numbers have sum <m>35</m>, it means
            that the other number must be <m>35-x</m>. Since the two numbers have product
            <m>-30</m>, we have the equation
            <md>
              <mrow>x(35-x)\amp=-30</mrow>
              <mrow>35x-x^2\amp=-30</mrow>
            </md>
            This is a quadratic equation which can be rewritten into standard form by adding
            <m>30</m> to each side:
            <md>
              <mrow>-x^2+35x+30=0</mrow>
            </md>
            Then, to solve for <m>x</m>, we apply the quadratic formula:
            <md>
              <mrow>x\amp=\frac{-35\pm\sqrt{35^2-4(-1)(30)}}{2(-1)}</mrow>
              <mrow>\amp=\frac{-35\pm\sqrt{1225+120}}{-2}</mrow>
              <mrow>\amp=\frac{-35\pm\sqrt{1345}}{-2}</mrow>
              <mrow>\amp=\frac{35\pm\sqrt{1345}}{2}</mrow>
            </md>
            So the two possible solutions for <m>x</m> are:
            <md>
              <mrow>x=\frac{35-\sqrt{1345}}{2}\quad\text{or}\quad x=\frac{35+\sqrt{1345}}{2}</mrow>
            </md>
            Actually these are the two numbers we were looking for. They sum to <m>35</m> and
            multiply to <m>-30</m>.
          </p>
        </solution>
      </webwork>
    </exercise>

    <example>
      <statement>
        <p>
          Amita has a food stand where she sells momo (Nepali dumplings). If she charges <m>p</m>
          dollars for each momo, she estimates that she'd sell <m>80{,}000-20{,}000p</m> over the
          course of a year. (This reflects how raising the price can lead to fewer people making
          purchases.) What is the largest price that Amita could set to end up with a revenue
          of <m>\$70{,}000</m> for the year? (Note that revenue is not the same as profit, and we
          will not be accounting for Amita's expenses.)
        </p>
        <p>
          <var name="$rC" width="20"/>
        </p>
      </statement>
      <solution>
        <p>
          If Amita sets the price at <m>p</m> dollars per momo, her total revenue will be
          <m>(\text{number sold})\cdot\text{price}</m>, which is <m>(80000-20000p)p</m>, which
          simplifies to <m>80000p-20000p^2</m>. We have been asked to set that equal to <m>70000</m>.
          <md>
            <mrow>80000p-20000p^2 \amp = 70000</mrow>
            <mrow>-20000p^2+80000p-70000 \amp = 0</mrow>
            <intertext>So many zeros! We have the option to divide by <m>10000</m>.</intertext>
            <mrow>-2p^2+8p-7 \amp = 0</mrow>
          </md>
          <md>
            <mrow>p\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
            <mrow>\amp=\frac{-8\pm\sqrt{8^2-4(-2)(-7)}}{2(-2)}</mrow>
            <mrow>\amp=\frac{-8\pm\sqrt{8}}{-4}</mrow>
            <mrow>p\approx\amp 2.71 \quad\text{or}\quad x\approx1.29</mrow>
          </md>
          The possible solutions are about <m>2.71</m> and <m>1.29</m>. They are both valid
          solutions. Amita can reach the target revenue of <m>\$70{,}000</m> by setting the price
          per momo to either <m>\$1.29</m> or <m>\$2.71</m>.
        </p>
      </solution>
    </example>
  </subsection>

  <subsection>
    <title>Radical Equations</title>
    <p>
      Sometimes a radical equation gives rise to a quadratic equation, and the quadratic formula can
      then be useful.
    </p>

    <example>
      <statement>
        <p>
          Solve for <m>z</m> in <m>\sqrt{z}+2=z</m>.
        </p>
      </statement>
      <solution>
        <p>
          We will isolate the radical first, and then square both sides.
          <md>
            <mrow>\sqrt{z}+2\amp=z</mrow>
            <mrow>\sqrt{z}\amp=z-2</mrow>
            <mrow>\left(\sqrt{z}\right)^{\highlight{2}}\amp=(z-2)^{\highlight{2}}</mrow>
            <mrow>z\amp=z^2-4z+4</mrow>
            <mrow>0\amp=z^2-5z+4</mrow>
            <mrow>z\amp=\frac{5\pm\sqrt{(-5)^2-4(1)(4)}}{2}</mrow>
            <mrow>\amp=\frac{5\pm\sqrt{25-16}}{2}</mrow>
            <mrow>\amp=\frac{5\pm\sqrt{9}}{2}</mrow>
            <mrow>\amp=\frac{5\pm3}{2}</mrow>
          </md>
          <md>
            <mrow>z\amp=\frac{5-3}{2}\amp\text{ or }\amp\amp z\amp=\frac{5+3}{2}</mrow>
            <mrow>z\amp=1\amp\text{ or }\amp\amp z\amp=4</mrow>
          </md>
          There was a step in this process where we squared both sides of an equation. Squaring both
          sides of an equation can cause false equations to become true. For example <m>-2=2</m> is
          false, but if you square both sides then <m>4=4</m> is true. This means that when an
          equation solving process involves squaring both sides, and we end up with <q>solutions</q>
          like the two <m>z</m>-values above, they are only <em>potential</em> solutions. Logically
          we've whittled down the list of possible solutions to just these two numbers. But we need
          to actually check whether or not they actually work.
          <md>
            <mrow>\sqrt{\substitute{1}}+2\amp\wonder{=}1\amp\sqrt{\substitute{4}}+2\amp\wonder{=}4</mrow>
            <mrow>1+2\amp\reject{=}1\amp2+2\amp\confirm{=}4</mrow>
          </md>
          It turned out that <m>1</m> is an <term>extraneous solution</term>, but <m>4</m> is a
          valid solution. So the equation has one solution, <m>4</m>, and the solution set is
          <m>\{4\}</m>.
        </p>
      </solution>
    </example>

    <example>
      <statement>
        <p>
          Solve the equation <m>\sqrt{2n-6}=1+\sqrt{n-2}</m> for <m>n</m>.
        </p>
      </statement>
      <solution>
        <p>
          We cannot isolate two radicals at the same time. One of the radicals is already isolated,
          so we will simply square both sides and then try to clean up what remains.
          <md>
            <mrow>\sqrt{2n-6}\amp=1+\sqrt{n-2}</mrow>
            <mrow>\left(\sqrt{2n-6}\right)^{\highlight{2}}\amp=\left(1+\sqrt{n-2}\right)^{\highlight{2}}</mrow>
            <mrow>2n-6\amp=1^2+2\sqrt{n-2}+\left(\sqrt{n-2}\right)^2</mrow>
            <mrow>2n-6\amp=1+2\sqrt{n-2}+n-2</mrow>
            <mrow>2n-6\amp=2\sqrt{n-2}+n-1</mrow>
            <mrow>n-5\amp=2\sqrt{n-2}</mrow>
            <intertext>
              Note here that we can leave the factor of <m>2</m> next to the radical. We will square
              the <m>2</m> also.
            </intertext>
            <mrow>(n-5)^{\highlight{2}}\amp=\left(2\sqrt{n-2}\right)^{\highlight{2}}</mrow>
            <mrow>n^2-10n+25\amp=4(n-2)</mrow>
            <mrow>n^2-10n+25\amp=4n-8</mrow>
            <mrow>n^2-14n+33\amp=0</mrow>
          </md>
          <md>
            <mrow>n\amp=\frac{14\pm\sqrt{14^2-4(1)(33)}}{2}</mrow>
            <mrow>\amp=\frac{14\pm\sqrt{196-132}}{2}</mrow>
            <mrow>\amp=\frac{14\pm\sqrt{64}}{2}</mrow>
            <mrow>\amp=\frac{14\pm8}{2}</mrow>
          </md>
          <md>
            <mrow>n\amp=\frac{14-8}{2}\amp\text{ or }\amp\amp n\amp=\frac{14+8}{2}</mrow>
            <mrow>n\amp=3\amp\text{ or }\amp\amp n\amp=11</mrow>
          </md>
          So our two potential solutions are <m>3</m> and <m>11</m>. We should now verify that they
          truly are solutions.
          <md>
            <mrow>\sqrt{2(\substitute{3})-6}\amp\wonder{=}1+\sqrt{\substitute{3}-2}\amp\sqrt{2(\substitute{11})-6}\amp\wonder{=}1+\sqrt{\substitute{11}-2}</mrow>
            <mrow>\sqrt{6-6}\amp\wonder{=}1+\sqrt{1}\amp\sqrt{22-6}\amp\wonder{=}1+\sqrt{9}</mrow>
            <mrow>\sqrt{0}\amp\wonder{=}1+1\amp\sqrt{16}\amp\wonder{=}1+3</mrow>
            <mrow>0\amp\reject{=}2\amp4\amp\confirm{=}4</mrow>
          </md>
          So, <m>11</m> is the only solution. The solution set is <m>\{11\}</m>.
        </p>
      </solution>
    </example>
  </subsection>

  <reading-questions>
    <exercise>
      <statement>
        <p>
          What is the formula for the discriminant?
        </p>
      </statement>
    </exercise>
    <exercise>
      <statement>
        <p>
          Are there any kinds of quadratic equations where the quadratic formula is not the best
          tool to use?
        </p>
      </statement>
    </exercise>
    <exercise>
      <statement>
        <p>
          Given a quadratic equation, will the quadratic formula always lead you to two solutions?
        </p>
      </statement>
    </exercise>
  </reading-questions>

  <exercises>
    <subexercises>
      <title>Review and Warmup</title>
      <exercisegroup cols="4">
        <introduction>
          <p>
            Write each fraction in simplified form.
          </p>
        </introduction>
        <exercise>
          <webwork xml:id="webwork-reduce-fractions-with-denominator-2a">
            <shortdescription>
              <line>Reduce fractions. Denominators should be like the ones expected from the quadratic formula.</line>
              <line>In random order:</line>
              <line>an integer; displayed with positive denominator</line>
              <line>an integer; displayed with negative denominator</line>
              <line>not an integer; positive; less than 1; displayed with positive denominator</line>
              <line>not an integer; positive; less than 1; displayed with negative denominator</line>
            </shortdescription>
            <pg-code>
              # an integer; displayed with positive denominator
              $d[0] = 1;
              $n[0] = list_random(-9..-3,3..9);
              $den[0] = random(2,12,2);
              $num[0] = $n[0]*$den[0];
              #
              # an integer; displayed with negative denominator
              $d[1] = 1;
              $n[1] = list_random(-9..-3,3..9);
              $den[1] = random(-12,-2,2);
              $num[1] = $n[1]*$den[1];
              #
              # not an integer; positive; less than 1; displayed with positive denominator
              $d[2] = random(2,12,1);
              do {$n[2] = random(1,$d[2]-1,1)} until (gcd($d[2],$n[2]) == 1);
              do {$den[2] = $d[2]*random(2,floor(40/$d[2]),1)} until ($den[2] % 2 == 0);
              $num[2] = $n[2] * $den[2]/$d[2];
              #
              # not an integer; positive; less than 1; displayed with negative denominator
              $d[3] = random(2,12,1);
              do {$n[3] = random(1,$d[3]-1,1)} until (gcd($d[3],$n[3]) == 1);
              do {$den[3] = $d[3]*random(-floor(40/$d[3]),-2,1)} until ($den[3] % 2 == 0);
              $num[3] = $n[3] * $den[3]/$d[3];
              #
              Context("LimitedFraction")->flags->set(allowMixedNumbers=>0,showMixedNumbers=>0,requirePureFractions=>1);
              for my $i (0..3) {
                $f[$i] = "\frac{$num[$i]}{$den[$i]}";
                $ans[$i] = Fraction($n[$i],$d[$i]);
              };
              @i = NchooseK(4,4);
              #
              # explanations
              Context()->texStrings;
              $sol[0] = "Since [`$den[0]`] divides evenly into [`$num[0]`], the result is an integer. It's [`$ans[0]`].";
              $sol[1] = "Since [`$den[1]`] divides evenly into [`$num[1]`], the result is an integer. Note that dividing a "
                . (($num[1] &lt; 0)?'negative':'positive') . " number by a negative number results in a "
                . (($num[1] &lt; 0)?'positive':'negative') . " number. The result is [`$ans[1]`].";
              $sol[2] = "The numerator and denominator have a greatest common factor of [`" . gcd($num[2],$den[2])
                . "`]. Dividing this out of each, the result is [`$ans[2]`].";
              $sol[3] = "Note that dividing a " . (($num[3] &lt; 0)?'negative':'positive') . " number by a negative number results in a "
                . (($num[3] &lt; 0)?'positive':'negative') . " number. The numerator and denominator have a greatest common factor of [`" . gcd($num[3],$den[3])
                . "`]. Dividing this out of each, the result is [`$ans[3]`].";
              Context()->normalStrings;
            </pg-code>
            <task>
              <statement>
                <p>
                  <m><var name="$f[$i[0]]"/></m>
                </p>
                <p>
                  <var name="$ans[$i[0]]" width="10"/>
                </p>
              </statement>
              <solution>
                <p>
                  <var name="$sol[$i[0]]" data="pgml"/>
                </p>
              </solution>
            </task>
            <task>
              <statement>
                <p>
                  <m><var name="$f[$i[1]]"/></m>
                </p>
                <p>
                  <var name="$ans[$i[1]]" width="10"/>
                </p>
              </statement>
              <solution>
                <p>
                  <var name="$sol[$i[1]]" data="pgml"/>
                </p>
              </solution>
            </task>
            <task>
              <statement>
                <p>
                  <m><var name="$f[$i[2]]"/></m>
                </p>
                <p>
                  <var name="$ans[$i[2]]" width="10"/>
                </p>
              </statement>
              <solution>
                <p>
                  <var name="$sol[$i[2]]" data="pgml"/>
                </p>
              </solution>
            </task>
            <task>
              <statement>
                <p>
                  <m><var name="$f[$i[3]]"/></m>
                </p>
                <p>
                  <var name="$ans[$i[3]]" width="10"/>
                </p>
              </statement>
              <solution>
                <p>
                  <var name="$sol[$i[3]]" data="pgml"/>
                </p>
              </solution>
            </task>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-reduce-fractions-with-denominator-2a"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-reduce-non-integer-fractions-with-denominator-2a">
            <shortdescription>Reduce fractions. Denominators should be like the ones expected from the quadratic formula.</shortdescription>
            <pg-code>
              # not an integer; greater than 1; displayed with positive denominator
              $d[0] = random(2,12,1);
              do {$n[0] = random($d[0]+1,3*$d[0]-1,1)} until (gcd($d[0],$n[0]) == 1);
              do {$den[0] = $d[0]*random(2,floor(40/$d[0]),1)} until ($den[0] % 2 == 0);
              $num[0] = $n[0] * $den[0]/$d[0];
              #
              # not an integer; less than -1; displayed with positive denominator
              $d[1] = random(2,12,1);
              do {$n[1] = -random($d[1]+1,3*$d[1]-1,1)} until (gcd($d[1],$n[1]) == 1);
              do {$den[1] = $d[1]*random(2,floor(40/$d[1]),1)} until ($den[1] % 2 == 0);
              $num[1] = $n[1] * $den[1]/$d[1];
              #
              # not an integer; positive; less than 1; displayed with positive denominator
              $d[2] = random(2,12,1);
              do {$n[2] = random(1,$d[2]-1,1)} until (gcd($d[2],$n[2]) == 1);
              do {$den[2] = $d[2]*random(2,floor(40/$d[2]),1)} until ($den[2] % 2 == 0);
              $num[2] = $n[2] * $den[2]/$d[2];
              #
              # not an integer; positive; less than 1; displayed with negative denominator
              $d[3] = random(2,12,1);
              do {$n[3] = random(1,$d[3]-1,1)} until (gcd($d[3],$n[3]) == 1);
              do {$den[3] = $d[3]*random(-floor(40/$d[3]),-2,1)} until ($den[3] % 2 == 0);
              $num[3] = $n[3] * $den[3]/$d[3];
              #
              Context("LimitedFraction")->flags->set(allowMixedNumbers=>0,showMixedNumbers=>0,requirePureFractions=>1);
              for my $i (0..3) {
                $f[$i] = "\frac{$num[$i]}{$den[$i]}";
                $ans[$i] = Fraction($n[$i],$d[$i]);
              };
              @i = NchooseK(4,4);
              #
              # explanations
              Context()->texStrings;
              $sol[0] = "The numerator and denominator have a greatest common factor of [`" . gcd($num[0],$den[0])
                . "`]. Dividing this out of each, the result is [`$ans[0]`].";
              $sol[1] = "The numerator and denominator have a greatest common factor of [`" . gcd($num[1],$den[1])
                . "`]. Dividing this out of each, the result is [`$ans[1]`].";
              $sol[2] = "The numerator and denominator have a greatest common factor of [`" . gcd($num[2],$den[2])
                . "`]. Dividing this out of each, the result is [`$ans[2]`].";
              $sol[3] = "Note that dividing a " . (($num[3] &lt; 0)?'negative':'positive') . " number by a negative number results in a "
                . (($num[3] &lt; 0)?'positive':'negative') . " number. The numerator and denominator have a greatest common factor of [`" . gcd($num[3],$den[3])
                . "`]. Dividing this out of each, the result is [`$ans[3]`].";
              Context()->normalStrings;
            </pg-code>
            <task>
              <statement>
                <p>
                  <m><var name="$f[$i[0]]"/></m>
                </p>
                <p>
                  <var name="$ans[$i[0]]" width="10"/>
                </p>
              </statement>
              <solution>
                <p>
                  <var name="$sol[$i[0]]" data="pgml"/>
                </p>
              </solution>
            </task>
            <task>
              <statement>
                <p>
                  <m><var name="$f[$i[1]]"/></m>
                </p>
                <p>
                  <var name="$ans[$i[1]]" width="10"/>
                </p>
              </statement>
              <solution>
                <p>
                  <var name="$sol[$i[1]]" data="pgml"/>
                </p>
              </solution>
            </task>
            <task>
              <statement>
                <p>
                  <m><var name="$f[$i[2]]"/></m>
                </p>
                <p>
                  <var name="$ans[$i[2]]" width="10"/>
                </p>
              </statement>
              <solution>
                <p>
                  <var name="$sol[$i[2]]" data="pgml"/>
                </p>
              </solution>
            </task>
            <task>
              <statement>
                <p>
                  <m><var name="$f[$i[3]]"/></m>
                </p>
                <p>
                  <var name="$ans[$i[3]]" width="10"/>
                </p>
              </statement>
              <solution>
                <p>
                  <var name="$sol[$i[3]]" data="pgml"/>
                </p>
              </solution>
            </task>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-reduce-non-integer-fractions-with-denominator-2a"/>
        </exercise>
      </exercisegroup>

      <exercisegroup cols="2">
        <introduction>
          <p>
            Evaluate the given expression for the given values.
          </p>
        </introduction>
        <exercise>
          <webwork xml:id="webwork-evaluate-discriminant-expression-positive-integers">
            <shortdescription>Evaluate b^2 - 4ac with a, b, c positive integers</shortdescription>
            <pg-code>
              Context()->variables->are(a=>'Real',b=>'Real',c=>'Real');
              ($a,$c) = (1..5)[NchooseK(5,2)];
              $b = list_random(4..9);
              $d = Formula("b^2-4ac");
              $answer = $d->eval(a=>$a,b=>$b,c=>$c);
              Context()->flags->set(reduceConstants=>0);
              $substituted = $d->substitute(a=>$a,b=>$b,c=>$c);
              $b2 = $b**2;
              $ac4 = 4*$a*$c;
              $solutionstep = Formula("$b2-$ac4");
            </pg-code>
            <statement>
              <p>
                <m><var name="$d"/></m> for <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>
              </p>
              <p>
                <var name="$answer" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                Substituting in the three values,
                <md>
                  <mrow><var name="$d"/>\amp=<var name="$substituted"/></mrow>
                  <mrow>\amp=<var name="$solutionstep"/></mrow>
                  <mrow>\amp=<var name="$answer"/></mrow>
                </md>
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-evaluate-discriminant-expression-positive-integers"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-evaluate-discriminant-expression-with-b-negative">
            <shortdescription>Evaluate b^2 - 4ac with b a negative integer and a, c integers</shortdescription>
            <pg-code>
              Context()->variables->are(a=>'Real',b=>'Real',c=>'Real');
              ($a,$c) = (-5..-1,1..5)[NchooseK(10,2)];
              $b = list_random(-9..-4);
              $d = Formula("b^2-4ac");
              $answer = $d->eval(a=>$a,b=>$b,c=>$c);
              Context()->flags->set(reduceConstants=>0);
              $substituted = $d->substitute(a=>$a,b=>$b,c=>$c);
              $b2 = $b**2;
              $ac4 = 4*$a*$c;
              $solutionstep = Formula("$b2-$ac4");
            </pg-code>
            <statement>
              <p>
                <m><var name="$d"/></m> for <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>
              </p>
              <p>
                <var name="$answer" width="10"/>
              </p>
            </statement>
            <solution>
              <p>
                Substituting in the three values,
                <md>
                  <mrow><var name="$d"/>\amp=<var name="$substituted"/></mrow>
                  <mrow>\amp=<var name="$solutionstep"/></mrow>
                  <mrow>\amp=<var name="$answer"/></mrow>
                </md>
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-evaluate-discriminant-expression-with-b-negative"/>
        </exercise>
      </exercisegroup>

      <exercisegroup cols="4">
        <introduction>
          <p>
            Simplify the radical.
          </p>
        </introduction>
        <exercise>
          <webwork xml:id="webwork-simplify-square-root-expression">
            <shortdescription>Simplify a radical expression of the form sqrt(a^2b)</shortdescription>
            <pg-code>
              $b = list_random(2,3,5,6,7,10,11,13,14,15);
              $a = random(2,int(sqrt(100/$b)),1);
              $r = $a**2*$b;
              Context("Form");
              $answer = Formula("$a sqrt($b)");
            </pg-code>
            <statement>
              <p>
                <m>\sqrt{<var name="$r"/>}</m>
              </p>
              <p>
                <var name="$answer" width="20"/>
              </p>
            </statement>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-simplify-square-root-expression"/>
        </exercise>
        <exercise>
          <webwork copy="webwork-simplify-square-root-expression"/>
        </exercise>
        <exercise>
          <webwork copy="webwork-simplify-square-root-expression"/>
        </exercise>
      </exercisegroup>
    </subexercises>

    <subexercises>
      <title>Skills Practice</title>
      <exercisegroup cols="3">
        <introduction>
          <p>
            Use the quadratic formula to solve the equation.
          </p>
        </introduction>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-integer-roots">
            <shortdescription>Solve x^2+bx+c=0 where the roots are nonzero integers</shortdescription>
            <pg-code>
              ($r,$s) = (1..9)[NchooseK(9,2)];
              ($r,$s) = num_sort(map{$_*list_random(-1,1)}($r,$s));
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Real(sqrt($discriminant));
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-integer-roots"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-integer-and-fraction-roots">
            <shortdescription>Solve ax^2+bx+c=0 where a,b,c are integers and only one root is an integer</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-integer-and-fraction-roots"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-fraction-roots">
            <shortdescription>Solve ax^2+bx+c=0 where a,b,c are integers and roots are rational non-integers</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-fraction-roots"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-no-real-roots">
            <shortdescription>Solve x^2+bx+c=0 where b,c are integers and there is no solution</shortdescription>
            <pg-code>
              $c = random(1,9,1);
              $b = random(1,int(sqrt(4*$c))-1,1)*list_random(-1,1);
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solutions");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                </md>
                Since we are asked to take the square root of a negative number, there are no real solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-no-real-roots"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-fraction-coefficients-one-integer-root">
            <shortdescription>Solve x^2+bx+c=0 where b,c are rational and only one root is an integer</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-fraction-coefficients-one-integer-root"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-doubled-integer-root">
            <shortdescription>Solve x^2+bx+c=0 where there is a nonzero integer doubled root</shortdescription>
            <pg-code>
              $r = non_zero_random(-9,9,1);
              $b = -2*$r;
              $c = ($r)**2;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = 0;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>}{2}</mrow>
                </md>
                Since the disciriminant (that number in the radical) is <m>0</m>, there is only one solution.
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-doubled-integer-root"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-no-real-roots-2">
            <shortdescription>Solve ax^2+bx+c=0 where a!=1,b,c are integers and there is no solution</shortdescription>
            <pg-code>
              $a = random(2,9,1);
              $c = random(1,9,1);
              $b = random(1,int(sqrt(4*$a*$c))-1,1)*list_random(-1,1);
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solutions");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2(<var name="$a"/>)}</mrow>
                </md>
                Since we are asked to take the square root of a negative number, there are no real solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-no-real-roots-2"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-fraction-roots-2">
            <shortdescription>Solve x^2+bx+c=0 where b,c are rational and roots are rational non-integers</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)\left(<var name="$c"/>\right)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-fraction-roots-2"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-irrational-roots">
            <shortdescription>Solve x^2+bx+c=0 where b,c are positive, and there are irrational roots</shortdescription>
            <pg-code>
              do {
                $c = random(1,9,1);
                $b = random(int(sqrt(4*$c))+1,9,1);
              } until (sqrt($b**2-4*$c) != int(sqrt($b**2-4*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $disc = $b**2-4*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2);
              $P = Fraction($pull,2);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-irrational-roots"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-doubled-rational-root">
            <shortdescription>Solve x^2+bx+c=0 where there is a nonzero rational doubled root</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $b = -2*$r;
              $c = ($r)**2;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = 0;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)\left(<var name="$c"/>\right)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>}{2}</mrow>
                </md>
                Since the disciriminant (that number in the radical) is <m>0</m>, there is only one solution.
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-doubled-rational-root"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-irrational-roots-2">
            <shortdescription>Solve x^2+bx+c=0 where b,c are integers, and there are irrational roots</shortdescription>
            <pg-code>
              do {
                $c = non_zero_random(-9,9,1);
                $b = ($c > 0) ? random(int(sqrt(4*$c))+1,9,1) * list_random(-1,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$c) != int(sqrt($b**2-4*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $disc = $b**2-4*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2);
              $P = Fraction($pull,2);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-irrational-roots-2"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-irrational-roots-3">
            <shortdescription>Solve ax^2+bx+c=0 where a!=1,b,c are integers, and there are irrational roots</shortdescription>
            <pg-code>
              do {
                ($a,$c) = (-9..-2,2..9)[NchooseK(18,2)];
                $b = ($a*$c > 0) ? random(int(sqrt(4*$a*$c))+1,20,1) * list_random(-1,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$a*$c) != int(sqrt($b**2-4*$a*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $disc = $b**2-4*$a*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2*$a);
              $P = Fraction($pull,2*$a);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $a2 = 2*$a;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-irrational-roots-3"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-doubled-rational-root-2">
            <shortdescription>Solve ax^2+bx+c=0 where a,b,c integers and there is a nonzero rational doubled root</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $B = -2*$r;
              $C = ($r)**2;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $a2 = 2*$a;
              $discriminant = 0;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>}{<var name="$a2"/>}</mrow>
                </md>
                Since the disciriminant (that number in the radical) is <m>0</m>, there is only one solution.
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-doubled-rational-root-2"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-fraction-coefficients-irrational-roots">
            <shortdescription>Solve x^2+bx+c=0 where b,c are fractions, and there are irrational roots</shortdescription>
            <pg-code>
              Context("Fraction");
              do {
                do {
                  $cd = random(2,3,1);
                  $cn = non_zero_random(-5,5,1);
                  $c = Fraction($cn,$cd);
                } until (($c->value)[1] != 1);
                if ($c > 0) {
                  $bd = random(2,3,1);
                  $bn = random(int(sqrt(4*$c)*$bd)+1,6) * list_random(-1,1);
                  $b = Fraction($bn,$bd);
                } else {
                  $bd = 2;
                  $bn = non_zero_random(-3,3,1);
                  $b = Fraction($bn,$bd);
                }
              } until (sqrt($bn**2*$cd**2 - 4*$cn*$cd*$bd**2) != int(sqrt($bn**2*$cd**2 - 4*$cn*$cd*$bd**2)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $disc = ($b)**2-4*$c;
              ($discn,$discd) = $disc->value;
              ($newdiscn,$newdiscd) = ($discn*$discd,$discd*$discd);
              $squarepart = 1;
              $squarefree = $newdiscn;
              for $i (2,3,5,7,11,13,17) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b/2);
              $P = Fraction($pull/(2*$newdiscd));
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)\left(<var name="$c"/>\right)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-fraction-coefficients-irrational-roots"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-fraction-coefficients-irrational-roots-2">
            <shortdescription>Solve ax^2+bx+c=0 where a,b,c are fractions, and there are irrational roots</shortdescription>
            <pg-code>
              Context("Fraction");
              do {
                do {
                  $ad = random(2,3,1);
                  $an = 1;
                  $a = Fraction($an,$ad);
                } until (($a->value)[1] != 1);
                do {
                  $cd = 2;
                  $cn = random(-3,3,2);
                  $c = Fraction($cn,$cd);
                } until (($c->value)[1] != 1);
                if ($c > 0) {
                  $bd = random(2,3,1);
                  $bn = random(int(sqrt(4*$a*$c)*$bd)+1,4) * list_random(-1,1);
                  $b = Fraction($bn,$bd);
                } else {
                  $bd = 2;
                  $bn = non_zero_random(-1,1,1);
                  $b = Fraction($bn,$bd);
                }
              } until (sqrt($bn**2*$ad**2*$cd**2 - 4*$an*$ad*$cn*$cd*$bd**2) != int(sqrt($bn**2*$ad**2*$cd**2 - 4*$an*$ad*$cn*$cd*$bd**2)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $disc = ($b)**2-4*$a*$c;
              ($discn,$discd) = $disc->value;
              ($newdiscn,$newdiscd) = ($discn*$discd,$discd*$discd);
              $squarepart = 1;
              $squarefree = $newdiscn;
              for $i (2,3,5,7,11,13,17,19) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              Context("Fraction");
              $pull = Fraction(sqrt($squarepart), $discd);
              $B = Fraction($b/(2*$a));
              $P = Fraction($pull/(2*$a));
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $a2 = 2*$a;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              Context("FiniteSolutionSets");
              $NB = -$B;
              ($r,$s) = (Formula("$NB - $P sqrt($squarefree)"),Formula("$NB + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
              Context("FiniteSolutionSets");
              $solutions = Formula("{$NB - $P sqrt($squarefree),$NB + $P sqrt($squarefree)}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-fraction-coefficients-irrational-roots-2"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-doubled-decimal-root">
            <shortdescription>Solve x^2+bx+c=0 where there is a doubled decimal root</shortdescription>
            <pg-code>
              $r = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
              $b = -2*$r;
              $c = ($r)**2;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              Context()->flags->remove("NumberCheck");
              Context()->flags->set(useBizarro=>0);
              $solutions = Formula("{$r}");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = 0;
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>}{2}</mrow>
                </md>
                Since the disciriminant (that number in the radical) is <m>0</m>, there is only one solution.
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-doubled-decimal-root"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-doubled-decimal-root-2">
            <shortdescription>Solve ax^2+bx+c=0 where there is a doubled decimal root</shortdescription>
            <pg-code>
              $r = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
              $a = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
              $b = -2*$a*$r;
              $c = $a*($r)**2;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              Context()->flags->remove("NumberCheck");
              Context()->flags->set(useBizarro=>0);
              $solutions = Formula("{$r}");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = 0;
              $a2 = 2*$a;
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>}{<var name="$a2"/>}</mrow>
                </md>
                Since the disciriminant (that number in the radical) is <m>0</m>, there is only one solution.
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-doubled-decimal-root-2"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-one-integer-root-one-decimal-root">
            <shortdescription>Solve x^2+bx+c=0 where b,c are decimals, where one root is an integer and one has tenths place</shortdescription>
            <pg-code>
              $r = non_zero_random(-9,9,1);
              $s = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              Context("FiniteSolutionSets");
              Context()->flags->remove("NumberCheck");
              Context()->flags->set(useBizarro=>0);
              $solutions = Formula("{$r,$s}");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Real(sqrt($discriminant));
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-one-integer-root-one-decimal-root"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-decimal-coefficients-irrational-roots">
            <shortdescription>Solve x^2+bx+c=0 where b,c are decimals, and there are irrational roots</shortdescription>
            <pg-code>
              do {
                $c = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
                if ($c > 0) {
                  $b = (random(int(sqrt(4*$c))+1,9,1) + random(0.1,0.9,0.1)) * list_random(-1,1);
                } else {
                  $b = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
                }
              } until (sqrt(($b**2-4*$c)*10) != int(sqrt(($b**2-4*$c)*10)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2+$b x+$c")->reduce;
              $disc = $b**2-4*$c;
              $B = $b/2;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Real(sqrt($discriminant));
              Context("FiniteSolutionSets");
              Context()->flags->remove("NumberCheck");
              Context()->flags->set(useBizarro=>0);
              $r = Real(-$B - 1/2*sqrt($disc));
              $s = Real(-$B + 1/2*sqrt($disc));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp\approx<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
                </md>
                The solution set is approximately <m><var name="$solutions"/></m>.
                Note that since we started with decimal coefficients,
                we felt it was acceptible to round the solutions to decimal approximations rather than keep to the exact solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-decimal-coefficients-irrational-roots"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-decimal-coefficients-irrational-roots-2">
            <shortdescription>Solve a x^2+bx+c=0 where a,b,c are decimals, and there are irrational roots</shortdescription>
            <pg-code>
              do {
                $a = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
                $c = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
                if ($a*$c > 0) {
                  $b = (random(int(sqrt(4*$a*$c))+1,20,1) + random(0.1,0.9,0.1)) * list_random(-1,1);
                } else {
                  $b = non_zero_random(-9,9,1)+non_zero_random(-0.9,0.9,0.1);
                }
              } until (sqrt(($b**2-4*$a*$c)*10) != int(sqrt(($b**2-4*$a*$c)*10)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $disc = $b**2-4*$a*$c;
              $denom = 2*$a;
              $B = $b/$denom;
              $negb = -$b;
              $a2 = 2*$a;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Real(sqrt($discriminant));
              Context("FiniteSolutionSets");
              Context()->flags->remove("NumberCheck");
              Context()->flags->set(useBizarro=>0);
              $r = Real(-$B - 1/$denom*sqrt($disc));
              $s = Real(-$B + 1/$denom*sqrt($disc));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$f"/>=0</m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp\approx<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
                </md>
                The solution set is approximately <m><var name="$solutions"/></m>.
                Note that since we started with decimal coefficients,
                we felt it was acceptible to round the solutions to decimal approximations rather than keep to the exact solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-decimal-coefficients-irrational-roots-2"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-integer-roots-2">
            <shortdescription>Solve a rearrangement of x^2+bx+c=0 where the roots are nonzero integers</shortdescription>
            <pg-code>
              ($r,$s) = (1..9)[NchooseK(9,2)];
              ($r,$s) = num_sort(map{$_*list_random(-1,1)}($r,$s));
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("x^2-$left")->reduce;
              $right = $right->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Real(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-integer-roots-2"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-integer-roots-3">
            <shortdescription>Solve x^2=bx+c where the roots are nonzero integers</shortdescription>
            <pg-code>
              ($r,$s) = (1..9)[NchooseK(9,2)];
              ($r,$s) = num_sort(map{$_*list_random(-1,1)}($r,$s));
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              $left = Formula("x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Real(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-integer-roots-3"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-integer-and-fraction-roots-2">
            <shortdescription>Solve a rearrangement of ax^2+bx+c=0 where a,b,c are integers and only one root is an integer</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2 + $b x + $c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("$a x^2-$left")->reduce;
              $right = $right->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-integer-and-fraction-roots-2"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-integer-and-fraction-roots-3">
            <shortdescription>Solve ax^2=bx+c where a,b,c are integers and only one root is an integer</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2 + $b x + $c")->reduce;
              $left = Formula("$a x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-integer-and-fraction-roots-3"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-fraction-roots-3">
            <shortdescription>Solve a rearrangment of ax^2+bx+c=0 where a,b,c are integers and roots are rational non-integers</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("$a x^2-$left")->reduce;
              $right = $right->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-fraction-roots-3"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-fraction-roots-4">
            <shortdescription>Solve ax^2=bx+c where a,b,c are integers and roots are rational non-integers</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $B = -($r + $s);
              $C = $r*$s;
              $a = lcm(($B->value)[1],($C->value)[1]);
              $b = $a*$B;
              $c = $a*$C;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2+$b x+$c")->reduce;
              $left = Formula("$a x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              $a2 = 2*$a;
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-fraction-roots-4"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-no-real-roots-3">
            <shortdescription>Solve a rearrangement of x^2+bx+c=0 where b,c are integers and there is no solution</shortdescription>
            <pg-code>
              $c = random(1,9,1);
              $b = random(1,int(sqrt(4*$c))-1,1)*list_random(-1,1);
              Context()->noreduce('(-x)-y','(-x)+y');
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("x^2-$left")->reduce;
              $right = $right->reduce;
              $f = Formula("x^2 + $b x + $c")->reduce;
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solutions");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                </md>
                Since we are asked to take the square root of a negative number, there are no real solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-no-real-roots-3"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-fraction-coefficients-one-integer-root-2">
            <shortdescription>Solve a rearrangement of x^2+bx+c=0 where b,c are rational and only one root is an integer</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("x^2-$left")->reduce;
              $right = $right->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)\left(<var name="$c"/>\right)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-fraction-coefficients-one-integer-root-2"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-fraction-roots-5">
            <shortdescription>Solve a rearrangement of x^2+bx+c=0 where roots are rational and neither root is an integer</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("x^2-$left")->reduce;
              $right = $right->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-fraction-roots-5"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-irrational-roots-4">
            <shortdescription>Solve a rearrangement of x^2+bx+c=0 where b,c are integers, and there are irrational roots</shortdescription>
            <pg-code>
              do {
                $c = non_zero_random(-9,9,1);
                $b = ($c > 0) ? random(int(sqrt(4*$c))+1,9,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$c) != int(sqrt($b**2-4*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("x^2-$left")->reduce;
              $right = $right->reduce;
              $disc = $b**2-4*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2);
              $P = Fraction($pull,2);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-irrational-roots-4"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-no-real-roots-4">
            <shortdescription>Solve a rearrangement of ax^2+bx+c=0 where a!=1,b,c are integers and there is no solution</shortdescription>
            <pg-code>
              $a = random(2,9,1);
              $c = non_zero_random(1,9,1);
              $b = random(1,int(sqrt(4*$a*$c))-1,1)*list_random(-1,1);
              Context()->noreduce('(-x)-y','(-x)+y');
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $left = Formula("$a x^2-$left")->reduce;
              $right = $right->reduce;
              $f = Formula("$a x^2 + $b x + $c")->reduce;
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solutions");
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2(<var name="$a"/>)}</mrow>
                </md>
                Since we are asked to take the square root of a negative number, there are no real solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-no-real-roots-4"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-fraction-coefficients-one-integer-root-3">
            <shortdescription>Solve x^2=bx+c where b,c are rational and only one root is an integer</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              $s = non_zero_random(-9,9,1);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $left = Formula("x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-fraction-coefficients-one-integer-root-3"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-fraction-roots-6">
            <shortdescription>Solve x^2=bx+c where roots are rational and neither root is an integer</shortdescription>
            <pg-code>
              Context("Fraction");
              do {$r = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1);
              do {$s = Fraction(non_zero_random(-9,9,1),random(2,9,1))} until (($r->value)[1] != 1 and $r != $s);
              ($r,$s) = num_sort($r,$s);
              $b = -($r + $s);
              $c = $r*$s;
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              $left = Formula("x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$c;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-fraction-roots-6"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-irrational-roots-5">
            <shortdescription>Solve a rearrangement of ax^2+bx+c=0 where a!=1,b,c are integers, and there are irrational roots</shortdescription>
            <pg-code>
              do {
                ($a,$c) = (-9..-2,2..9)[NchooseK(18,2)];
                $b = ($a*$c > 0) ? random(int(sqrt(4*$a*$c))+1,20,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$a*$c) != int(sqrt($b**2-4*$a*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              ($left,$right) = (Formula("-$b x"),Formula("-$c"))[NchooseK(2,2)];
              $f = Formula("$a x^2 + $b x + $c")->reduce;
              $left = Formula("$a x^2-$left")->reduce;
              $right = $right->reduce;
              $disc = $b**2-4*$a*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2*$a);
              $P = Fraction($pull,2*$a);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $a2 = 2*$a;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-irrational-roots-5"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-irrational-roots-6">
            <shortdescription>Solve x^2=bx+c where b,c are integers, and there are irrational roots</shortdescription>
            <pg-code>
              do {
                $c = non_zero_random(-9,9,1);
                $b = ($c > 0) ? random(int(sqrt(4*$c))+1,9,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$c) != int(sqrt($b**2-4*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("x^2 + $b x + $c")->reduce;
              $left = Formula("x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $disc = $b**2-4*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2);
              $P = Fraction($pull,2);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*1*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=1</m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)(<var name="$c"/>)}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{2}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-irrational-roots-6"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-use-quadratic-formula-irrational-roots-7">
            <shortdescription>Solve ax^2=bx+c where a!=1,b,c are integers, and there are irrational roots</shortdescription>
            <pg-code>
              do {
                ($a,$c) = (-9..-2,2..9)[NchooseK(18,2)];
                $b = ($a*$c > 0) ? random(int(sqrt(4*$a*$c))+1,20,1) : non_zero_random(-9,9,1);
              } until (sqrt($b**2-4*$a*$c) != int(sqrt($b**2-4*$a*$c)));
              Context()->noreduce('(-x)-y','(-x)+y');
              $f = Formula("$a x^2 + $b x + $c")->reduce;
              $left = Formula("$a x^2")->reduce;
              $right = Formula("-$b x - $c")->reduce;
              $disc = $b**2-4*$a*$c;
              $squarepart = 1;
              $squarefree = $disc;
              for $i (2,3,5,7) {
                while ($squarefree % $i**2 == 0) {
                  $squarepart *= $i**2;
                  $squarefree /= $i**2;
                }
              }
              $pull = sqrt($squarepart);
              Context("Fraction");
              $B = Fraction($b,2*$a);
              $P = Fraction($pull,2*$a);
              if ($P == 1) {$P = ''};
              if ($pull == 1) {$pull = ''};
              $negb = -$b;
              $a2 = 2*$a;
              $bsquared = ($b)**2;
              $discriminant = ($b)**2 - 4*$a*$c;
              Context("FiniteSolutionSets");
              ($r,$s) = (Formula("-$B - $P sqrt($squarefree)"),Formula("-$B + $P sqrt($squarefree)"));
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                To use the quadratic formula, we write the equation in standard form:
                <me><var name="$f"/>=0</me>
                and identify <m>a=<var name="$a"/></m>, <m>b=<var name="$b"/></m>, and <m>c=<var name="$c"/></m>.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$pull"/>\sqrt{<var name="$squarefree"/>}}{<var name="$a2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-use-quadratic-formula-irrational-roots-7"/>
        </exercise>
      </exercisegroup>

      <exercisegroup cols="3">
        <title>Radical Equations That Give Rise to Quadratic Equations</title>
        <introduction>
          <p>
            Solve the equation.
          </p>
        </introduction>
        <exercise>
          <webwork xml:id="webwork-solve-radical-equation-two-integer-solutions">
            <shortdescription>Solve sqrt(x)=mx+b, where there are two integer solutions</shortdescription>
            <pg-code>
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              Context("Fraction");
              $m = Fraction(sqrt($s)-sqrt($r),$s-$r);
              $b = Fraction(sqrt($r) - $m*$r);
              $a = lcm(($m->value)[1],($b->value)[1]);
              $am = $a*$m;
              $ab = $a*$b;
              $left = Formula("$a sqrt(x)")->reduce;
              $right = Formula("$am x + $ab")->reduce;
              $leftsquared = Formula("$a^2 x")->reduce;
              $rightsquared = Formula("($am)^2 x^2 + 2*$am*$ab x + ($ab)^2")->reduce;
              $A = $am*$am;
              $B = 2*$am*$ab - $a*$a;
              $C = $ab*$ab;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r,$s}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The only possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>.
                They each check as valid solutions in the original equation,
                so the solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-solve-radical-equation-two-integer-solutions"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-solve-radical-equation-one-extraneous-solution">
            <shortdescription>Solve sqrt(x)=mx+b, where there is one (non-repeated) integer solution and one extraneous solution</shortdescription>
            <pg-code>
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              ($r,$s) = (random(0,1,1) ? ($r,$s) : ($s,$r));
              ($low,$high) = num_sort($r,$s);
              Context("Fraction");
              # (r,sqrt(r)) and (s,-sqrt(s))
              $m = Fraction(-sqrt($s)-sqrt($r),$s-$r);
              $b = Fraction(sqrt($r) - $m*$r);
              $a = lcm(($m->value)[1],($b->value)[1]);
              $am = $a*$m;
              $ab = $a*$b;
              $left = Formula("$a sqrt(x)")->reduce;
              $right = Formula("$am x + $ab")->reduce;
              $leftsquared = Formula("$a^2 x")->reduce;
              $rightsquared = Formula("($am)^2 x^2 + 2*$am*$ab x + ($ab)^2")->reduce;
              $A = $am*$am;
              $B = 2*$am*$ab - $a*$a;
              $C = $ab*$ab;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Formula("{$r}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$low"/>\quad\text{or}\quad x=<var name="$high"/></mrow>
                </md>
                The only possible solutions are <m><var name="$low"/></m> and <m><var name="$high"/></m>.
                But if we check the original equation, we find that <m><var name="$r"/></m> is a soluiton,
                but <m><var name="$s"/></m> is not.
                So the solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-solve-radical-equation-one-extraneous-solution"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-solve-radical-equation-no-solutions">
            <shortdescription>Solve sqrt(x)=mx+b, where there are no solutions because of a negative discriminant</shortdescription>
            <pg-code>
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              Context("Fraction");
              # (r,sqrt(r)+1) and (s,sqrt(s)+1)   guarantees no solution
              $yr = sqrt($r)+random(1,2,1);
              $ys = sqrt($s)+random(1,2,1);
              $m = Fraction($ys-$yr,$s-$r);
              $b = Fraction($yr - $m*$r);
              $a = lcm(($m->value)[1],($b->value)[1]);
              $am = $a*$m;
              $ab = $a*$b;
              $left = Formula("$a sqrt(x)")->reduce;
              $right = Formula("$am x + $ab")->reduce;
              $leftsquared = Formula("$a^2 x")->reduce;
              $rightsquared = Formula("($am)^2 x^2 + 2*$am*$ab x + ($ab)^2")->reduce;
              $A = $am*$am;
              $B = 2*$am*$ab - $a*$a;
              $C = $ab*$ab;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solution");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                </md>
                Since we would need to take the square root of a negative number, there is no solution.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-solve-radical-equation-no-solutions"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-solve-radical-equation-two-extraneous-solutions">
            <shortdescription>Solve sqrt(x)=mx+b, where there are no solutions becasue there are two extraneous solutions</shortdescription>
            <pg-code>
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              Context("Fraction");
              Context()->noreduce('(-x)-y');
              # (r,-sqrt(r)) and (s,-sqrt(s))
              $m = Fraction(-sqrt($s)+sqrt($r),$s-$r);
              $b = Fraction(-sqrt($r) - $m*$r);
              $a = lcm(($m->value)[1],($b->value)[1]);
              $am = $a*$m;
              $ab = $a*$b;
              $left = Formula("$a sqrt(x)")->reduce;
              $right = Formula("$am x + $ab")->reduce;
              $leftsquared = Formula("$a^2 x")->reduce;
              $rightsquared = Formula("($am)^2 x^2 + 2*$am*$ab x + ($ab)^2")->reduce;
              $A = $am*$am;
              $B = 2*$am*$ab - $a*$a;
              $C = $ab*$ab;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              $solutions = Compute("no real solution");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
                </md>
                The only possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>.
                But if we check the original equation, we find that neither of them actually work.
                So there are no solutions.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-solve-radical-equation-two-extraneous-solutions"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-solve-radical-equation-two-integer-solutions-2">
            <shortdescription>Solve sqrt(nx+c)=mx+b, where there are two integer solutions</shortdescription>
            <pg-code>
              # unshifted $r, $s, possibilities for $n
              $rs = list_random([1,4,[3]],[1,9,[2,4,8]],[1,16,[3,5]],[4,9,[5]],[4,16,[2,3,4,6,12]],[9,16,[7]]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              $n = list_random(@{$rs->[2]});
              # shift c such that n divides (r-c)
              $c = $r - $n*non_zero_random(-3,3,1);
              Context("Fraction");
              $m = Fraction(sqrt($s)-sqrt($r),$s-$r);
              $b = Fraction(sqrt($r) - $m*$r);
              $newm = $m*$n;
              $newb = $m*$c+$b;
              $a = lcm(($newm->value)[1],($newb->value)[1]);
              $anewm = $a*$newm;
              $anewb = $a*$newb;
              $left = Formula("$a sqrt($n x + $c)")->reduce;
              $right = Formula("$anewm x + $anewb")->reduce;
              $leftsquared = Formula("$a^2($n x + $c)")->reduce;
              $leftsquaredexpanded = Formula("$a^2*$n x + $a^2*$c")->reduce;
              $rightsquared = Formula("($anewm)^2 x^2 + 2*$anewm*$anewb x + ($anewb)^2")->reduce;
              $A = ($anewm)**2;
              $B = 2*$anewm*$anewb - $a*$a*$n;
              $C = ($anewb)**2 - $a*$a*$c;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              Context("FiniteSolutionSets");
              ($sol1,$sol2) = map{($_-$c)/$n}($r,$s);
              $solutions = Formula("{$sol1,$sol2}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$left"/>=<var name="$right"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow><var name="$leftsquaredexpanded"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$sol1"/>\quad\text{or}\quad x=<var name="$sol2"/></mrow>
                </md>
                The only possible solutions are <m><var name="$sol1"/></m> and <m><var name="$sol2"/></m>.
                They each check as valid solutions in the original equation,
                so the solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-solve-radical-equation-two-integer-solutions-2"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-solve-radical-equation-two-rational-solutions">
            <shortdescription>Solve a rearrangement of sqrt(nx+c)=mx+b, where there are two rational solutions</shortdescription>
            <pg-code>
              # unshifted $r, $s
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              if ($r % 2 != $s % 2 and $r % 3 != $s % 3) {$n = random(2,3,1)}
              elsif ($r % 2 != $s % 2) {$n = 2}
              elsif ($r % 3 != $s % 3) {$n = 3}
              else {$n = 5};
              # shift c such that n divides (r-c)
              $c = $r - non_zero_random(-3,3,1);
              Context("Fraction");
              $m = Fraction(sqrt($s)-sqrt($r),$s-$r);
              $b = Fraction(sqrt($r) - $m*$r);
              $newm = $m*$n;
              $newb = $m*$c+$b;
              $a = lcm(($newm->value)[1],($newb->value)[1]);
              $anewm = $a*$newm;
              $anewb = $a*$newb;
              ($origleft,$origright) = (Formula("$anewm x")->reduce,Formula("$anewb"))[NchooseK(2,2)];
              $origleft = Formula("$a sqrt($n x + $c)-$origleft")->reduce;
              $left = Formula("$a sqrt($n x + $c)")->reduce;
              $right = Formula("$anewm x + $anewb")->reduce;
              $leftsquared = Formula("$a^2($n x + $c)")->reduce;
              $leftsquaredexpanded = Formula("$a^2*$n x + $a^2*$c")->reduce;
              $rightsquared = Formula("($anewm)^2 x^2 + 2*$anewm*$anewb x + ($anewb)^2")->reduce;
              $A = ($anewm)**2;
              $B = 2*$anewm*$anewb - $a*$a*$n;
              $C = ($anewb)**2 - $a*$a*$c;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              ($sol1,$sol2) = map{Fraction($_-$c,$n)}($r,$s);
              Context("FiniteSolutionSets");
              $solutions = Formula("{$sol1,$sol2}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$origleft"/>=<var name="$origright"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we arrange so the radical term is the only term on one side.
                <md>
                  <mrow><var name="$origleft"/>\amp=<var name="$origright"/></mrow>
                  <mrow><var name="$left"/>\amp=<var name="$right"/></mrow>
                </md>
                Now we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow><var name="$leftsquaredexpanded"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$sol1"/>\quad\text{or}\quad x=<var name="$sol2"/></mrow>
                </md>
                The only possible solutions are <m><var name="$sol1"/></m> and <m><var name="$sol2"/></m>.
                They each check as valid solutions in the original equation,
                so the solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-solve-radical-equation-two-rational-solutions"/>
        </exercise>
        <exercise>
          <webwork xml:id="webwork-solve-radical-equation-one-extraneous-solution-2">
            <shortdescription>Solve a rearrangement of sqrt(nx+c)=mx+b, where there is only one (non-repeated) solution and it is rational, non-integer</shortdescription>
            <pg-code>
              # unshifted $r, $s
              $rs = list_random([1,4],[1,9],[1,16],[4,9],[4,16],[9,16]);
              ($r,$s) = ($rs->[0],$rs->[1]);
              if ($r % 2 != $s % 2 and $r % 3 != $s % 3) {$n = random(2,3,1)}
              elsif ($r % 2 != $s % 2) {$n = 2}
              elsif ($r % 3 != $s % 3) {$n = 3}
              else {$n = 5};
              # shift c such that n divides (r-c)
              $c = $r - non_zero_random(-3,3,1);
              Context("Fraction");
              #(r,sqrt(r)) and (s,-sqrt(s))
              $m = Fraction(-sqrt($s)-sqrt($r),$s-$r);
              $b = Fraction(sqrt($r) - $m*$r);
              $newm = $m*$n;
              $newb = $m*$c+$b;
              $a = lcm(($newm->value)[1],($newb->value)[1]);
              $anewm = $a*$newm;
              $anewb = $a*$newb;
              ($origleft,$origright) = (Formula("$anewm x")->reduce,Formula("$anewb"))[NchooseK(2,2)];
              $origleft = Formula("$a sqrt($n x + $c)-$origleft")->reduce;
              $left = Formula("$a sqrt($n x + $c)")->reduce;
              $right = Formula("$anewm x + $anewb")->reduce;
              $leftsquared = Formula("$a^2($n x + $c)")->reduce;
              $leftsquaredexpanded = Formula("$a^2*$n x + $a^2*$c")->reduce;
              $rightsquared = Formula("($anewm)^2 x^2 + 2*$anewm*$anewb x + ($anewb)^2")->reduce;
              $A = ($anewm)**2;
              $B = 2*$anewm*$anewb - $a*$a*$n;
              $C = ($anewb)**2 - $a*$a*$c;
              $f = Formula("$A x^2 + $B x + $C")->reduce;
              $negB = -$B;
              $Bsquared = $B*$B;
              $discriminant = $Bsquared - 4*$A*$C;
              $A2 = 2*$A;
              $sqrtdisc = Fraction(sqrt($discriminant));
              ($sol1,$sol2) = map{Fraction($_-$c,$n)}($r,$s);
              Context("FiniteSolutionSets");
              $solutions = Formula("{$sol1}");
            </pg-code>
            <statement>
              <p>
                <m><var name="$origleft"/>=<var name="$origright"/></m>
              </p>
              <instruction>
                If you need to enter a square root like <m>\sqrt{17}</m>, type <c>sqrt(17)</c>.
                If there is no real solution, enter <c>no real solution</c>.
              </instruction>
              <p>
                <var name="$solutions" width="40"/>
              </p>
            </statement>
            <solution>
              <p>
                First we arrange so the radical term is the only term on one side.
                <md>
                  <mrow><var name="$origleft"/>\amp=<var name="$origright"/></mrow>
                  <mrow><var name="$left"/>\amp=<var name="$right"/></mrow>
                </md>
                Now we square each side to obtain a quadratic equation.
                Then we can rearrange that into standard form.
                <md>
                  <mrow>\left(<var name="$left"/>\right)^2\amp=\left(<var name="$right"/>\right)^2</mrow>
                  <mrow><var name="$leftsquared"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow><var name="$leftsquaredexpanded"/>\amp=<var name="$rightsquared"/></mrow>
                  <mrow>0\amp=<var name="$f"/></mrow>
                </md>
                Now we can identify <m>a=<var name="$A"/></m>, <m>b=<var name="$B"/></m>, and <m>c=<var name="$C"/></m>,
                and apply the quadratic formula.
                <md>
                  <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$Bsquared"/>-4\left(<var name="$A"/>\right)\left(<var name="$C"/>\right)}}{2\left(<var name="$A"/>\right)}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$A2"/>}</mrow>
                  <mrow>\amp=\frac{<var name="$negB"/>\pm<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=\frac{<var name="$negB"/>-<var name="$sqrtdisc"/>}{<var name="$A2"/>}\quad\text{or}\quad x=\frac{<var name="$negB"/>+<var name="$sqrtdisc"/>}{<var name="$A2"/>}</mrow>
                  <mrow>x\amp=<var name="$sol1"/>\quad\text{or}\quad x=<var name="$sol2"/></mrow>
                </md>
                The only possible solutions are <m><var name="$sol1"/></m> and <m><var name="$sol2"/></m>.
                We can check that <m><var name="$sol1"/></m> solves the original equation,
                but <m><var name="$sol2"/></m> does not.
                So the solution set is <m><var name="$solutions"/></m>.
              </p>
            </solution>
          </webwork>
        </exercise>
        <exercise>
          <webwork copy="webwork-solve-radical-equation-one-extraneous-solution-2"/>
        </exercise>
      </exercisegroup>
    </subexercises>

    <subexercises>
      <title>Applications</title>
      <exercise>
        <webwork>
          <shortdescription>Find time for falling object to hit ground after upward throw from elevation using SI units.</shortdescription>
          <pg-code>
            $g = -9.8;
            $gU = NumberWithUnits("$g m/s^2");
            $h = random(4,12,1);
            $hU = NumberWithUnits("$h m");
            $v = random(10,26,1);
            $vU = NumberWithUnits("$v m/s");
            Context()->variables->are(t=>'Real');
            $a = $g/2;
            $b = $v;
            $c = $h+2;
            $f = Formula("$a t^2 + $b t + $c");
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $tU = NumberWithUnits("$t s");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              While standing on a rooftop that is <var name="$hU"/> high off the ground,
              you throw a tennis ball off the roof in an arc. Because of the speed that you throw the ball,
              its height from the ground, in meters, <m>t</m> seconds after the throw is <m><var name="$f"/></m>.
              How long will it be until the ball hits the ground?
            </p>
            <p>
              <var name="$tU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              When the ball hits the ground, the height will be <m>0</m>.
              So we must solve the equation <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>t\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad t\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx<var name="$t"/>\quad\text{or}\quad t\approx<var name="$s"/></mrow>
              </md>
              Only the solution <m>t\approx<var name="$t"/></m> makes sense in this situation.
              So it will takes <m><var name="$tU"/></m> for the ball to hit the ground.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <shortdescription>Find time for falling object to hit ground after upward throw from elevation using American units.</shortdescription>
          <pg-code>
            $g = -32;
            $gU = NumberWithUnits("$g ft/s^2");
            $h = random(16,42,1);
            $hU = NumberWithUnits("$h ft");
            $v = random(1.5,4,0.1);
            $vU = NumberWithUnits("$v ft/s");
            Context()->variables->are(t=>'Real');
            $a = $g/2;
            $b = $v;
            $c = $h;
            $f = Formula("$a t^2 + $b t + $c");
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $tU = NumberWithUnits("$t s");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              While standing on a tree branch that is <var name="$hU"/> high off the ground, a squirrel kicks a nut in an arc.
              The nut falls cleanly to the ground without hitting anything on the way down.
              While the nut is in the air,
              its height from the ground, in feet, <m>t</m> seconds after the kick is <m><var name="$f"/></m>.
              How long will it be until the nut hits the ground?
            </p>
            <p>
              <var name="$tU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              When the nut hits the ground, the height will be <m>0</m>.
              So we must solve the equation <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>t\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad t\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx<var name="$t"/>\quad\text{or}\quad t\approx<var name="$s"/></mrow>
              </md>
              Only the solution <m>t\approx<var name="$t"/></m> makes sense in this situation.
              So it will takes <m><var name="$tU"/></m> for the ball to hit the ground.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <shortdescription>Find time for falling object on the moon to hit ground after upward throw from elevation using SI units.</shortdescription>
          <pg-code>
            $g = -1.62;
            $gU = NumberWithUnits("$g m/s^2");
            $h = random(2,8,1);
            $hU = NumberWithUnits("$h m");
            $v = random(1,2,0.1);
            $vU = NumberWithUnits("$v m/s");
            Context()->variables->are(t=>'Real');
            $a = $g/2;
            $b = $v;
            $c = $h+2;
            $f = Formula("$a t^2 + $b t + $c");
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $tU = NumberWithUnits("$t s");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              An astronaut on the moon makes a running jump off a cliff onto a broad flat plain.
              The clifftop is <var name="$hU"/> higher than the plain. Because of the slight upward jump,
              the astronaut's height from the plain, in meters, <m>t</m> seconds after the jump is <m><var name="$f"/></m>.
              How long will it be until the astronaut lands in the plain?
            </p>
            <p>
              <var name="$tU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              When the astronaut lands, the height will be <m>0</m>.
              So we must solve the equation <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>t\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad t\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx<var name="$t"/>\quad\text{or}\quad t\approx<var name="$s"/></mrow>
              </md>
              Only the solution <m>t\approx<var name="$t"/></m> makes sense in this situation.
              So it will takes <m><var name="$tU"/></m> for the astronaut to land.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <shortdescription>Find time for falling object on Mars to hit ground after upward throw from elevation using SI units.</shortdescription>
          <pg-code>
            $g = -3.7;
            $gU = NumberWithUnits("$g m/s^2");
            $h = random(10,20,1);
            $hU = NumberWithUnits("$h m");
            $v = random(2,4,0.1);
            $vU = NumberWithUnits("$v m/s");
            Context()->variables->are(t=>'Real');
            $a = $g/2;
            $b = $v;
            $c = $h+2;
            $f = Formula("$a t^2 + $b t + $c");
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $tU = NumberWithUnits("$t s");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              An robot on Mars makes a running jump off a cliff onto a broad flat plain.
              The clifftop is <var name="$hU"/> higher than the plain. Because of the slight upward jump,
              the robot's height from the plain, in meters, <m>t</m> seconds after the jump is <m><var name="$f"/></m>.
              How long will it be until the robot lands in the plain?
            </p>
            <p>
              <var name="$tU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              When the robot lands, the height will be <m>0</m>.
              So we must solve the equation <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>t\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad t\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>t\amp\approx<var name="$t"/>\quad\text{or}\quad t\approx<var name="$s"/></mrow>
              </md>
              Only the solution <m>t\approx<var name="$t"/></m> makes sense in this situation.
              So it will takes <m><var name="$tU"/></m> for the robot to land.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <shortdescription>Find dimensions of a rectangular wall with known area and one dimension is known to be so many m longer than then other.</shortdescription>
          <pg-code>
            $h = random(8,12,0.25);
            $hU = NumberWithUnits("$h ft");
            $w = random(16,32,4);
            $extra = $w-$h;
            $extraU = NumberWithUnits("$extra ft");
            $area = $h*$w;
            $areaU = NumberWithUnits("$area ft^2");
            Context()->variables->are(h=>'Real');
            $widthformula = Formula("h+$extra");
            $areaformula = Formula("h(h+$extra)");
            $a = 1;
            $b = $extra;
            $c = -$area;
            $f = Formula("$a h^2 + $b h + $c")->reduce;
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $sU = NumberWithUnits("$s ft");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              One rectangular wall in your classroom is <m><var name="$extraU"/></m> longer than it is tall.
              The total area of the wall is <m><var name="$areaU"/></m>. How tall is the wall?
            </p>
            <p>
              <var name="$hU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              The area of a rectangle is given by multipying its two dimensions.
              If we let <m>h</m> stand for the height of the wall,
              then <m><var name="$widthformula"/></m> is the width,
              and the total area is <m><var name="$areaformula"/></m>.
              So we must solve the equation <m><var name="$areaformula"/>=<var name="$area"/></m>.
            </p>
            <p>
              After multiplying and moving to standard form, we have <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>h\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>h\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad h=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>h\amp=<var name="$t"/>\quad\text{or}\quad h=<var name="$s"/></mrow>
              </md>
              Only the solution <m>h\approx<var name="$s"/></m> makes sense in this situation.
              The wall is <m><var name="$sU"/></m> tall.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <shortdescription>Find dimensions of a rectangular floor with known area and one dimension is known to be so many ft longer than then other.</shortdescription>
          <pg-code>
            $w = random(8,12,0.25);
            $wU = NumberWithUnits("$w m");
            $l = random(16,32,4);
            $extra = $l-$w;
            $extraU = NumberWithUnits("$extra m");
            $area = $w*$l;
            $areaU = NumberWithUnits("$area m^2");
            Context()->variables->are(w=>'Real');
            $lengthformula = Formula("w+$extra");
            $areaformula = Formula("w(w+$extra)");
            $a = 1;
            $b = $extra;
            $c = -$area;
            $f = Formula("$a w^2 + $b w + $c")->reduce;
            $s = Real((-$b + sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $t = Real((-$b - sqrt(($b)**2 - 4*$a*$c))/(2*$a));
            $sU = NumberWithUnits("$s m");
            $negb = -$b;
            $discriminant = $b**2 - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
          </pg-code>
          <statement>
            <p>
              The rectangular floor of your classroom is <m><var name="$extraU"/></m> longer than it is wide.
              The total floor area is <m><var name="$areaU"/></m>. How wide is the floor? (This is asking for the shorter dimension.)
            </p>
            <p>
              <var name="$hU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              The area of a rectangle is given by multipying its two dimensions.
              If we let <m>w</m> stand for the width of the floor (the shorter dimension),
              then <m><var name="$lengthformula"/></m> is the length,
              and the total area is <m><var name="$areaformula"/></m>.
              So we must solve the equation <m><var name="$areaformula"/>=<var name="$area"/></m>.
            </p>
            <p>
              After multiplying and moving to standard form, we have <m><var name="$f"/>=0</m>.
              Using the quadratic formula:
              <md>
                <mrow>h\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$b"/>^2-4\left(<var name="$a"/>\right)\left(<var name="$c"/>\right)}}{2\left(<var name="$a"/>\right)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>h\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad h=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>h\amp=<var name="$t"/>\quad\text{or}\quad h=<var name="$s"/></mrow>
              </md>
              Only the solution <m>h\approx<var name="$s"/></m> makes sense in this situation.
              The floor is <m><var name="$sU"/></m> wide.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <shortdescription>Find width of a picture frame for given rectangular image dimensions with fixed frame area.</shortdescription>
          <pg-code>
            $h = random(25,60,5);
            $hU = NumberWithUnits("$h cm");
            $w = 1.6*$h;
            $wU = NumberWithUnits("$w cm");
            $s = random(2,5,1)+random(0.1,0.9,0.1);
            $sU = NumberWithUnits("$s cm");
            $area = int(($h+2*$s)*($w+2*$s) - $h*$w);
            $areaU = NumberWithUnits("$area cm^2");
            $a = 4;
            $b = 2*($h+$w);
            $c = -$area;
            $surface = Formula("4x^2 + $b x")->reduce;
            $f = Formula("4x^2 + $b x + $c")->reduce;
            $negb = -$b;
            $bsquared = $b*$b;
            $discriminant = $bsquared - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
            $r = ($negb - $sqrtdisc)/$a2;
            $s = ($negb + $sqrtdisc)/$a2;
            $sU = NumberWithUnits("$s cm");
          </pg-code>
          <statement>
            <p>
              A metals factory will produce steel picture frames in the form of a rectagle with a
              smaller rectangle cut out, as in the diagram. The widths of the four edges is to be
              consistent, and leave a <m><var name="$wU"/></m> by <m><var name="$hU"/></m> visible
              area for photos and other images. There is a standard thickness for the metal from
              which these frames will be cut, and the manufacturer has a target weight in mind for
              the final product so that shipping costs will be kept low. This leads to the decision
              that the surface area of the frame needs to be <m><var name="$areaU"/></m>. How wide
              should the four edges be? (What is the value of <m>x</m> in the diagram?)
            </p>
            <image width="40%">
              <latex-image>
                \begin{tikzpicture}
                  \draw[fill=lightgray] (0,0) -| (5,3) -| cycle;
                  \draw[fill=lightsapphire] (0.5,0.5) -| (4.5,2.5) -| cycle;
                  \draw[dashed] (2.5,0) -- node[pos=0.5, right] {\(x\)} (2.5,0.5);
                  \draw[dashed] (0,1.5) -- node[pos=0.5, above] {\(x\)} (0.5,1.5);
                  \node[above] at (2.5,0.5) {\($w\) cm};
                  \node[above, rotate=-90] at (0.5,1.5) {\($h\) cm};
                \end{tikzpicture}
              </latex-image>
            </image>
            <p>
              <var name="$sU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              We can find a formula for the surface area of the frame by taking the area of the outer rectangle
              and subtracting the area of the inner rectangle. The outer rectangle's width is <m><var name="$w"/>+2x</m> centimeters.
              Its height is <m><var name="$h"/>+2x</m> centimeters.
              So its area is <m>(<var name="$w"/>+2x)(<var name="$h"/>+2x)</m> square centimeters.
              The inner rectangle area is <m>(<var name="$w"/>)(<var name="$h"/>)</m> square centimeters.
              So the surface area of the frame, in square centimeters,
              is <m>(<var name="$w"/>+2x)(<var name="$h"/>+2x)-(<var name="$w"/>)(<var name="$h"/>)</m>,
              which simplifies to <m><var name="$surface"/></m>.
              So we must solve the equation <m><var name="$surface"/>=<var name="$area"/></m>.
            </p>
            <p>
              Writing the quadratic equation in standard form, <m><var name="$f"/>=0</m>. Now we apply the quadratic formula.
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
              </md>
              The possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>,
              but only <m><var name="$s"/></m> makes sense in this context.
              Each edge of the frame will be about <m><var name="$sU"/></m> wide.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <shortdescription>Find width of a grass frame for given rectangular garden dimensions with fixed frame area.</shortdescription>
          <pg-code>
            ($h,$w) = num_sort((8..20)[NchooseK(13,2)]);
            $hU = NumberWithUnits("$h ft");
            $wU = NumberWithUnits("$w ft");
            $s = random(1,2,1)+random(0.1,0.9,0.1);
            $sU = NumberWithUnits("$s ft");
            $area = int(($h+2*$s)*($w+2*$s) - $h*$w);
            $areaU = NumberWithUnits("$area ft^2");
            $a = 4;
            $b = 2*($h+$w);
            $c = -$area;
            $surface = Formula("4x^2 + $b x")->reduce;
            $f = Formula("4x^2 + $b x + $c")->reduce;
            $negb = -$b;
            $bsquared = $b*$b;
            $discriminant = $bsquared - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
            $r = ($negb - $sqrtdisc)/$a2;
            $s = ($negb + $sqrtdisc)/$a2;
            $sU = NumberWithUnits("$s ft");
          </pg-code>
          <statement>
            <p>
              A vegetable garden will be surrounded by a frame of grass sod.
              The garden itself will be <m><var name="$wU"/></m> by <m><var name="$hU"/></m>.
              The widths of the four edges of the frame will be equal to each other.
              There is only <m><var name="$areaU"/></m> of grass sod available, and it will all be used for this frame.
              How wide should the four edges be? (What is the value of <m>x</m> in the diagram?)
            </p>
            <image width="40%">
              <latex-image>
                \begin{tikzpicture}
                  \draw[fill=wood] (0,0) -| (5,3) -| cycle;
                  \draw[fill=lightemerald] (0.5,0.5) -| (4.5,2.5) -| cycle;
                  \draw[dashed] (2.5,0) -- node[pos=0.5, right] {\(x\)} (2.5,0.5);
                  \draw[dashed] (0,1.5) -- node[pos=0.5, above] {\(x\)} (0.5,1.5);
                  \node[above] at (2.5,0.5) {\($w\) ft};
                  \node[above, rotate=-90] at (0.5,1.5) {\($h\) ft};
                \end{tikzpicture}
              </latex-image>
            </image>
            <p>
              <var name="$sU" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              We can find a formula for the surface area of the frame by taking the area of the outer rectangle
              and subtracting the area of the inner rectangle. The outer rectangle's width is <m><var name="$w"/>+2x</m> feet.
              Its height is <m><var name="$h"/>+2x</m> feet.
              So its area is <m>(<var name="$w"/>+2x)(<var name="$h"/>+2x)</m> square feet.
              The inner rectangle area is <m>(<var name="$w"/>)(<var name="$h"/>)</m> square feet.
              So the surface area of the frame, in square feet,
              is <m>(<var name="$w"/>+2x)(<var name="$h"/>+2x)-(<var name="$w"/>)(<var name="$h"/>)</m>,
              which simplifies to <m><var name="$surface"/></m>.
              So we must solve the equation <m><var name="$surface"/>=<var name="$area"/></m>.
            </p>
            <p>
              Writing the quadratic equation in standard form, <m><var name="$f"/>=0</m>. Now we apply the quadratic formula.
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
              </md>
              The possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>,
              but only <m><var name="$s"/></m> makes sense in this context.
              Each edge of the frame will be about <m><var name="$sU"/></m> wide.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <shortdescription>
            Find product price that leads to required revenue, given a sales model as a function of
            price.
          </shortdescription>
          <pg-code>
            Context("Currency")->currency->addSymbol("dollars", "dollar");
            Context()->variables->are(p => 'Real');
            Context()->flags->set(trimTrailingZeros => 1);
            Context()->noreduce('(-x)+y', '(-x)-y');
            $maxSales = 50000;
            $desiredRevenue = random(40000,60000,10000);
            $desiredRevenueC = Currency($desiredRevenue);
            # no one will buy it for $50;
            $rate = $maxSales/50;
            $sales = Formula("$maxSales - $rate p")->reduce;
            $revenue = Formula("-$rate p^2 + $maxSales p")->reduce;
            $a = -$rate;
            $b = $maxSales;
            $c = -$desiredRevenue;
            $f = Formula("$a p^2 + $b p + $c")->reduce;
            $negb = -$b;
            $bsquared = $b*$b;
            $discriminant = $bsquared - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
            $r = ($negb - $sqrtdisc)/$a2;
            $s = ($negb + $sqrtdisc)/$a2;
            $rC = Currency(Round($r,2));
          </pg-code>
          <statement>
            <p>
              You are ready to self-publish a book online. If the book were free, you estimate
              <m><var name="$maxSales"/></m> would order a copy. If you increase the price to
              <m>p</m> dollars per book you will have fewer orders, and after studying similar book
              sales you estimate you would have <m><var name="$sales"/></m> sales. What is the
              largest price that you could set to end up with a revenue of
              <m><var name="$desiredRevenueC"/></m>?
            </p>
            <p>
              <var name="$rC" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              If you set the price at <m>p</m> dollars per book, your revenue will be
              <m>(\text{number sold})\cdot\text{price}</m>, which is <m>(<var name="$sales"/>)p</m>,
              which simplifies to <m><var name="$revenue"/></m>. We need to solve the equation
              <m><var name="$revenue"/>=<var name="$desiredRevenue"/></m>.
              In standard form, this is <m><var name="$f"/>=0</m>, and the quadratic formula says:
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
              </md>
              The possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>.
              They are both valid solutions, but the question was to find the <em>largest</em> price
              we could set to reach a profit of <m><var name="$desiredProfitC"/></m>. So we should
              set the price to be <m><var name="$rC"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <shortdescription>
            Find product price that leads to required profit, given a sales model as a function of
            price.
          </shortdescription>
          <pg-code>
            Context("Currency")->currency->addSymbol("dollars","dollar");
            Context()->variables->are(p=>'Real');
            Context()->flags->set(trimTrailingZeros=>1,tolerance=>100);
            Context()->noreduce('(-x)+y','(-x)-y');
            Context()->{format}{number} = "%.11g";
            $maxSales = 1000000;
            $desiredRevenue = random(1,2,1)*10**9;
            $desiredRevenueC = Currency($desiredRevenue/10**9);
            # no one will buy it for $250000;
            $rate = $maxSales/250000;
            $sales = Formula("$maxSales - $rate p")->reduce;
            $revenue = Formula("-$rate p^2 + $maxSales p")->reduce;
            $a = -$rate;
            $b = $maxSales;
            $c = -$desiredRevenue;
            $f = Formula("$a p^2 + $b p + $c")->reduce;
            $negb = -$b;
            $bsquared = $b*$b;
            $discriminant = $bsquared - 4*$a*$c;
            $sqrtdisc = Real(sqrt($discriminant));
            $a2 = 2*$a;
            $r = ($negb - $sqrtdisc)/$a2;
            $s = ($negb + $sqrtdisc)/$a2;
            $sC = Currency(Round($s,2));
          </pg-code>
          <statement>
            <p>
              A new electric car company is ready to sell its debut model. Studying the current
              state of the electric car market, they estimate that if they charge each customer
              <m>p</m> dollars, they will have <m><var name="$sales"/></m> sales. What is the lowest
              price that they could use so that they end up with a revenue of
              <m><var name="$desiredRevenueC"/></m> billion?
            </p>
            <p>
              <var name="$sC" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              If they set the price at <m>p</m> dollars per car, the revenue will be
              <m>(\text{number sold})\cdot\text{price}</m>, which is <m>(<var name="$sales"/>)p</m>,
              which simplifies to <m><var name="$revenue"/></m>. We need to solve the equation
              <m><var name="$revenue"/>=<var name="$desiredRevenue"/></m>. In standard form, this is
              <m><var name="$f"/>=0</m>, and the quadratic formula says:
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp\approx\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x\approx\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\approx\amp<var name="$r"/>\quad\text{or}\quad x\approx<var name="$s"/></mrow>
              </md>
              The possible solutions are <m><var name="$r"/></m> and <m><var name="$s"/></m>. They
              are both valid solutions, but the question was to find the <em>lowest</em> price we
              could set to reach a profit of <m><var name="$desiredProfitC"/></m>. So we should set
              the price to be <m><var name="$sC"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <shortdescription>
            If you add this to a number, and subtract that from the same number, and multiply the
            results, you get this. What was the original number?
          </shortdescription>
          <pg-code>
            Context("Fraction");
            do {$r = Fraction(list_random(-9..-1),random(2,3,1))} until (($r->value)[1] != 1);
            do {$s = Fraction(list_random(1..9),random(2,3,1))} until (($r->value)[1] != 1);
            $a = 1;
            $b = -($r + $s);
            $c = $r*$s;
            Context()->noreduce('(-x)-y','(-x)+y');
            $f = Formula("x^2+$b x+$c")->reduce;
            $negb = -$b;
            $bsquared = ($b)**2;
            $discriminant = ($b)**2 - 4*1*$c;
            $sqrtdisc = Fraction(sqrt($discriminant));
            $sub = random(1,3,1);
            $add = -$r - $s + $sub;
            $as = $add*$sub;
            $product = -$as - $c;
          </pg-code>
          <statement>
            <p>
              If you add <m><var name="$add"/></m> to a certain positive number,
              then also subtract <m><var name="$sub"/></m> from that same number,
              and multiply the results, you get <m><var name="$product"/></m>.
              What was the original number?
            </p>
            <p>
              <var name="$s" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              Let <m>x</m> be the mystery number.
              We are told that <m>\left(x+<var name="$add"/>\right)\left(x-<var name="$sub"/>\right)=<var name="$product"/></m>.
              So
              <md>
                <mrow>x^2-<var name="$sub"/>x + <var name="$add"/>x - <var name="$as"/>\amp=<var name="$product"/></mrow>
                <mrow><var name="$f"/>\amp=0</mrow>
              </md>
              Now we can apply the quadratic formula:
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(1)\left(<var name="$c"/>\right)}}{2}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{2}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{2}</mrow>
                <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{2}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{2}</mrow>
                <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
              </md>
              Both <m><var name="$r"/></m> and <m><var name="$s"/></m> solve the equation,
              but we were asked to find a positive number.
              So the mystery number is <m><var name="$s"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
      <exercise>
        <webwork>
          <shortdescription>
            If you double a number, and add this to the same number, and multiply the results, you
            get this. What was the original number?
          </shortdescription>
          <pg-code>
            Context("Fraction");
            $s = Fraction(random(1,9,2),2);
            $r = random(-9,-1,1);
            $B = -($r + $s);
            $C = $r*$s;
            $a = lcm(($B->value)[1],($C->value)[1]);
            $b = $a*$B;
            $c = $a*$C;
            Context()->noreduce('(-x)-y','(-x)+y');
            $f = Formula("$a x^2+$b x+$c")->reduce;
            $negb = -$b;
            $bsquared = ($b)**2;
            $discriminant = ($b)**2 - 4*$a*$c;
            $sqrtdisc = Fraction(sqrt($discriminant));
            $a2 = 2*$a;
            Context("FiniteSolutionSets");
            $solutions = Formula("{$r,$s}");
            $add = $b/2;
            $product = -$c;
          </pg-code>
          <statement>
            <p>
              If you double a certain positive number, then also add  <m><var name="$add"/></m> to that same number,
              and multiply the results, you get <m><var name="$product"/></m>.
              What was the original number?
            </p>
            <p>
              <var name="$s" width="20"/>
            </p>
          </statement>
          <solution>
            <p>
              Let <m>x</m> be the mystery number.
              We are told that <m>(2x)\left(x+<var name="$add"/>\right)=<var name="$product"/></m>.
              So
              <md>
                <mrow>2x^2 + <var name="$b"/>x \amp=<var name="$product"/></mrow>
                <mrow><var name="$f"/>\amp=0</mrow>
              </md>
              Now we can apply the quadratic formula:
              <md>
                <mrow>x\amp=\frac{-b\pm\sqrt{b^2-4ac}}{2a}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$bsquared"/>-4(<var name="$a"/>)(<var name="$c"/>)}}{2(<var name="$a"/>)}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm\sqrt{<var name="$discriminant"/>}}{<var name="$a2"/>}</mrow>
                <mrow>\amp=\frac{<var name="$negb"/>\pm<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\amp=\frac{<var name="$negb"/>-<var name="$sqrtdisc"/>}{<var name="$a2"/>}\quad\text{or}\quad x=\frac{<var name="$negb"/>+<var name="$sqrtdisc"/>}{<var name="$a2"/>}</mrow>
                <mrow>x\amp=<var name="$r"/>\quad\text{or}\quad x=<var name="$s"/></mrow>
              </md>
              Both <m><var name="$r"/></m> and <m><var name="$s"/></m> solve the equation,
              but we were asked to find a positive number.
              So the mystery number is <m><var name="$s"/></m>.
            </p>
          </solution>
        </webwork>
      </exercise>
    </subexercises>

    <subexercises>
      <title>Challenge</title>

      <exercise>
        <!-- Kara's challenge problem -->
        <webwork>
          <pg-code>
            Context()->variables->are(m=>'Real',n=>'Real',p=>'Real');
            $answer = Compute("(-n-sqrt(n^2-4mp))/(2m),(-n+sqrt(n^2-4mp))/(2m)");
          </pg-code>
          <statement>
            <p>
              Solve for <m>x</m> in the equation <m>mx^{2}+nx+p=0</m>, assuming <m>m\neq0</m>.
            </p>
            <instruction>
              Enter the two solutions as a comma-separated list.
            </instruction>
            <p>
              <var name = "$answer" width="40"/>
            </p>
          </statement>
          <solution>
            <p>
              To solve a quadratic equation of the form <m>ax^{2}+bx+c=0</m>, we can use the
              quadratic formula. In this case, <m>a=m</m>, <m>b=n</m>, and <m>c=p</m>. Therefore the
              solutions are <m>\frac{-n+\sqrt{n^{2}-4mp}}{2m}, \frac{-n-\sqrt{n^{2}-4mp}}{2m}</m>,
              or <m>\frac{-n \pm \sqrt{n^{2}-4mp}}{2m}</m>.
            </p>
          </solution>
        </webwork>
      </exercise>
    </subexercises>
  </exercises>
</section>

